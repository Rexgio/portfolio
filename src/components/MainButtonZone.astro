---
//MainButtonZone.astro
import { Icon } from "astro-icon/components";
interface Props {
  color: string;
  name: string;
  description: string;
  buttonId?: string;
  icon: string;
  hoverIcon?: string;
  iconOnly?: boolean; // Nueva prop para controlar si solo mostrar icono en grandes
}
const {
  color,
  name,
  description,
  buttonId,
  icon,
  hoverIcon,
  iconOnly = false,
} = Astro.props;
const finalHoverIcon = hoverIcon || icon;

// Clases condicionales para el texto basado en iconOnly
const textClasses = iconOnly
  ? "font-[900] whitespace-nowrap uppercase tracking-wider text-[#1a1b26] font-mono text-lg xl:text-base lg:text-xs md:text-xs md:hidden lg:hidden sm:block xl:block"
  : "font-[900] whitespace-nowrap uppercase tracking-wider text-[#1a1b26] font-mono text-lg xl:text-base lg:text-xs md:text-xs ";

// Clases condicionales para el gap del contenedor
const containerGapClasses = iconOnly
  ? "gap-2 md:gap-4 xl:gap-1"
  : "gap-2 md:gap-4";
---

<div class="group/tooltip relative flex flex-wrap gap-2 justify-center w-full">
  <a
    href={buttonId}
    class={`group relative w-full h-12 md:h-10 rounded-lg flex items-center justify-center px-2 md:px-4 transition-all duration-300 active:scale-95 ease-out overflow-hidden ${containerGapClasses}`}
    style={{ backgroundColor: color }}
  >
    <div class="relative flex items-center justify-center w-6 h-6 shrink-0">
      <span
        class="absolute transition-all duration-300 ease-in-out transform opacity-100 scale-100 rotate-0 group-hover:opacity-0 group-hover:scale-50 group-hover:rotate-45"
      >
        <Icon name={icon} class="w-5 h-5 md:w-6 md:h-6" color="#1a1b26" />
      </span>
      <span
        class="absolute transition-all duration-300 ease-in-out transform opacity-0 scale-50 -rotate-45 group-hover:opacity-100 group-hover:scale-100 group-hover:rotate-0"
      >
        <Icon
          name={finalHoverIcon}
          class="w-5 h-5 md:w-6 md:h-6"
          color="#1a1b26"
        />
      </span>
    </div>
    <p class={textClasses}>
      {name}
    </p>
  </a>
  <div
    class="hidden md:block absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-3 py-1.5 text-xs text-white bg-slate-900 rounded-md shadow-lg pointer-events-none opacity-0 translate-y-2 transition-all duration-200 group-hover/tooltip:opacity-100 group-hover/tooltip:translate-y-0 z-50 whitespace-nowrap border border-slate-800"
  >
    {description}
    <div
      class="absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-900"
    >
    </div>
  </div>
</div>
